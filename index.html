<!--
FINAL READY FILE â€” Flipbook Interaktif (PNG gift + Turn.js)
Petunjuk singkat:
- Semua teks dan asset URL ada di bagian EDITABLE VARIABLES di bawah <script>.
- Ganti GIFT_PNG, BG_IMAGE, BALLOONS, MUSIC_SRC, GIF_SRC, VIDEO_SRC, dan PAGES dengan URL raw GitHub (raw.githubusercontent.com) atau path file di repo.
- Upload file ini sebagai index.html ke repo GitHub dan aktifkan GitHub Pages.

Fitur utama:
1) Sequential modals: password -> fingerprint -> gift (PNG, float) -> book (turn.js flipbook 3D) -> gif -> video -> end popup.
2) Gift uses a transparent PNG (GIFT_PNG). On click it animates open (fade) and reveals book.
3) Music player remains. Popups are cream gradient and animated.
4) Poppins font.

--- START OF FILE ---

<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Flipbook Interaktif - FINAL</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{--cream-a:#fbf5ec;--cream-b:#f3eadc;--accent:#c69c71;--muted:#4b3d33}
    *{box-sizing:border-box}
    body,html{height:100%;margin:0;font-family:'Poppins',system-ui,Arial;background:linear-gradient(180deg,var(--cream-a),var(--cream-b))}
    .stage{position:relative;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px}

    /* balloons */
    .balloon{position:absolute;bottom:-220px;opacity:0.95;animation:rise linear infinite;pointer-events:none}
    .balloon.x1{left:6%;width:120px;animation-duration:18s;animation-delay:0s}
    .balloon.x2{left:22%;width:90px;animation-duration:15s;animation-delay:2s}
    .balloon.x3{left:60%;width:110px;animation-duration:20s;animation-delay:1s}
    .balloon.x4{left:80%;width:100px;animation-duration:16s;animation-delay:3s}
    @keyframes rise{0%{transform:translateY(0) rotate(-6deg);}100%{transform:translateY(-140vh) rotate(10deg);} }

    /* modal style */
    .modal{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%) scale(.98);z-index:999;min-width:320px;max-width:92vw;padding:18px;border-radius:16px;box-shadow:0 24px 60px rgba(0,0,0,0.15);background:linear-gradient(180deg,var(--cream-a),var(--cream-b));display:none;opacity:0;transition:opacity .35s,transform .35s}
    .modal.show{display:block;opacity:1;transform:translate(-50%,-50%) scale(1)}
    .modal h3{margin:6px 0 10px;text-align:center}
    .modal p{text-align:center;margin:0 0 12px}
    .buttons{display:flex;gap:10px;justify-content:center}
    button.btn{background:var(--accent);border:none;padding:10px 16px;border-radius:12px;color:#fff;font-weight:700;cursor:pointer}
    input[type=text],input[type=password]{width:100%;padding:12px;border-radius:12px;border:1px solid rgba(0,0,0,0.06);background:transparent}

    /* fingerprint */
    .finger-area{display:flex;align-items:center;flex-direction:column;gap:12px}
    .finger-btn{width:92px;height:92px;border-radius:50%;background:linear-gradient(180deg,rgba(0,0,0,0.06),rgba(0,0,0,0.03));display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:32px}
    .finger-progress{width:86px;height:8px;background:rgba(0,0,0,0.06);border-radius:20px;overflow:hidden}
    .finger-progress > i{display:block;height:100%;width:0%;background:linear-gradient(90deg,#d2ad88,#b78c6b);}

    /* gift png */
    .gift-png{width:260px;height:auto;cursor:pointer;transition:transform .28s,opacity .4s}
    .gift-wrap{display:flex;align-items:center;justify-content:center}
    .gift-float{animation:floatY 3s ease-in-out infinite}
    @keyframes floatY{0%{transform:translateY(0)}50%{transform:translateY(-10px)}100%{transform:translateY(0)}}

    /* flipbook container for turn.js */
    #flipbook{width:720px;height:520px;margin:0 auto}
    #flipbook .page{background:#fbf7f1;border:1px solid rgba(0,0,0,0.06);box-shadow:0 8px 30px rgba(0,0,0,0.12);overflow:hidden}
    .cover{background:linear-gradient(180deg,#5d3b2a,#70462e);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:28px}
    .inner{background:linear-gradient(180deg,#fbf9f5,#fbf3ea);padding:36px;font-size:20px;line-height:1.6;color:var(--muted)}

    /* controls */
    .controls{position:fixed;right:18px;bottom:18px;display:flex;gap:8px;z-index:120}

    /* music */
    .music{position:fixed;left:14px;bottom:14px;background:linear-gradient(180deg,rgba(255,255,255,0.96),rgba(250,245,238,0.96));padding:10px 14px;border-radius:14px;box-shadow:0 12px 36px rgba(0,0,0,0.12);display:flex;gap:10px;align-items:center;z-index:120}
    .music input[type=range]{width:160px}

    /* responsive */
    @media (max-width:900px){#flipbook{width:86vw;height:56vw}.gift-png{width:200px}.modal{min-width:300px}}
  </style>
</head>
<body>
  <div class="stage" id="stage">
    <img id="balloon1" class="balloon x1" src="" alt="b1">
    <img id="balloon2" class="balloon x2" src="" alt="b2">
    <img id="balloon3" class="balloon x3" src="" alt="b3">
    <img id="balloon4" class="balloon x4" src="" alt="b4">

    <div id="center" style="z-index:20;display:flex;flex-direction:column;align-items:center;gap:18px">
      <div id="giftArea" class="gift-wrap" style="display:none">
        <img id="giftImg" class="gift-png gift-float" src="" alt="gift">
      </div>

      <div id="bookArea" style="display:none">
        <div id="flipbook"></div>
      </div>
    </div>

    <div class="music" id="musicBox">
      <button id="playBtn" class="btn">Play</button>
      <div style="font-size:14px">Music: <span id="musicLabel">[ganti di script]</span></div>
      <input id="vol" type="range" min="0" max="1" step="0.01" value="0.6">
    </div>
  </div>

  <!-- MODALS -->  <div id="pwdModal" class="modal show">
    <h3>Masukkan sandi</h3>
    <p>Masukkan kata sandi untuk membuka hadiah.</p>
    <input id="pwdInput" type="password" placeholder="ketik sandi">
    <div class="buttons"><button id="pwdNext" class="btn">Next</button></div>
  </div>  <div id="pwdWrong" class="modal">
    <h3>Kata sandi salah</h3>
    <p>Silakan coba lagi.</p>
    <div class="buttons"><button id="pwdRetry" class="btn">Coba lagi</button></div>
  </div>  <div id="fingerModal" class="modal">
    <h3>Verifikasi Sidik Jari</h3>
    <p>Tahan tombol sidik jari selama beberapa detik untuk melanjutkan.</p>
    <div class="finger-area"><div class="finger-btn" id="fingerBtn">ðŸ”’</div><div class="finger-progress"><i id="fingerFill"></i></div></div>
  </div>  <div id="gifModal" class="modal"><div style="width:320px;height:200px;display:flex;align-items:center;justify-content:center"><img id="gifImg" src="" style="max-width:100%;max-height:100%"></div></div>
  <div id="videoModal" class="modal"><div style="width:420px;height:260px;display:flex;align-items:center;justify-content:center"><video id="floatVideo" src="" controls loop style="max-width:100%;max-height:100%"></video></div></div>
  <div id="endModal" class="modal"><h3>Penutup</h3><p id="endText">Terima kasih â€” ganti teks penutup di script.</p><div class="buttons"><button id="endClose" class="btn">Tutup</button></div></div><audio id="bgMusic" loop preload="auto" src=""></audio>

  <div class="controls">
    <button id="prevBtn" class="btn" style="display:none">Prev</button>
    <button id="nextBtn" class="btn" style="display:none">Next</button>
  </div>  <!-- CDNs -->  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/turn.js/4.1.0/turn.min.js"></script>  <script>
    /* ===== EDITABLE VARIABLES ===== */
    const PASSWORD = 'arjingga25';
    const MUSIC_LABEL = 'Sempurna (ganti)';
    const MUSIC_SRC = ''; // raw github url or path
    const BG_IMAGE = ''; // raw url or empty to keep gradient
    const BALLOONS = ['','','','']; // replace with 4 balloon images if you want
    const GIFT_PNG = ''; // URL to transparent PNG of gift (red with ribbon)
    const GIF_SRC = '';
    const VIDEO_SRC = '';

    const PAGES = [
      'Halaman 1 â€” ganti teks di sini',
      'Halaman 2 â€” ganti teks di sini',
      'Halaman 3 â€” ganti teks di sini',
      'Halaman 4 â€” ganti teks di sini',
      'Halaman 5 â€” ganti teks di sini',
      'Halaman 6 â€” ganti teks di sini',
      'Halaman 7 â€” ganti teks di sini',
      'Halaman 8 â€” ganti teks di sini',
      'Halaman 9 â€” ganti teks di sini',
      'Halaman 10 â€” ganti teks di sini'
    ];
    const END_TEXT = 'Ganti teks penutup di script';
    /* ===== END EDITABLE ===== */

    // apply labels and assets
    document.getElementById('musicLabel').textContent = MUSIC_LABEL;
    if(MUSIC_SRC) document.getElementById('bgMusic').src = MUSIC_SRC;
    if(GIF_SRC) document.getElementById('gifImg').src = GIF_SRC;
    if(VIDEO_SRC) document.getElementById('floatVideo').src = VIDEO_SRC;
    if(GIFT_PNG) document.getElementById('giftImg').src = GIFT_PNG;
    if(BG_IMAGE && BG_IMAGE.trim()!=='') document.getElementById('stage').style.backgroundImage = `url('${BG_IMAGE}')`;
    BALLOONS.forEach((s,i)=>{const el=document.getElementById('balloon'+(i+1)); if(el){ el.src = s || ''; if(!s) el.style.opacity=0.03 }});
    document.getElementById('endText').textContent = END_TEXT;

    // modal helpers
    function show(id){document.getElementById(id).classList.add('show')}
    function hide(id){document.getElementById(id).classList.remove('show')}

    // Password flow
    const pwdInput = document.getElementById('pwdInput');
    document.getElementById('pwdNext').addEventListener('click', checkPwd);
    pwdInput.addEventListener('keydown',(e)=>{ if(e.key==='Enter') checkPwd(); });
    function checkPwd(){ if(pwdInput.value === PASSWORD){ hide('pwdModal'); setTimeout(()=>show('fingerModal'),300); } else { hide('pwdModal'); show('pwdWrong'); }}
    document.getElementById('pwdRetry').addEventListener('click',()=>{ hide('pwdWrong'); show('pwdModal'); pwdInput.value=''; pwdInput.focus(); });

    // Fingerprint hold
    const fingerBtn = document.getElementById('fingerBtn'); const fingerFill = document.getElementById('fingerFill');
    let fillInt=null, fill=0;
    function fingerStart(){ fill=0; fingerFill.style.width='0%'; fillInt=setInterval(()=>{ fill+=4; fingerFill.style.width = fill+'%'; if(fill>=100){ fingerComplete(); } },90);}    
    function fingerStop(){ clearInterval(fillInt); fingerFill.style.width='0%'; }
    function fingerComplete(){ clearInterval(fillInt); fingerFill.style.width='100%'; hide('fingerModal'); setTimeout(()=>{ showGift(); },350); }
    fingerBtn.addEventListener('mousedown',fingerStart); fingerBtn.addEventListener('touchstart',fingerStart);
    document.addEventListener('mouseup',fingerStop); document.addEventListener('touchend',fingerStop);

    // Show gift floating and enable click
    const giftArea = document.getElementById('giftArea'); const giftImg = document.getElementById('giftImg');
    function showGift(){ giftArea.style.display='flex'; giftImg.classList.add('gift-float'); // ensure visible
      // add small entrance
      giftImg.style.opacity='0'; giftImg.style.transform='translateY(20px) scale(.98)'; setTimeout(()=>{ giftImg.style.transition='opacity .5s,transform .6s'; giftImg.style.opacity='1'; giftImg.style.transform='translateY(0) scale(1)'; },50);
      giftImg.addEventListener('click', openGiftOnce);
    }

    function openGiftOnce(){ giftImg.removeEventListener('click',openGiftOnce); // stop float
      giftImg.classList.remove('gift-float'); giftImg.style.transition='transform .6s,opacity .5s'; giftImg.style.transform='translateY(-40px) scale(.9) rotateX(6deg)'; giftImg.style.opacity='0';
      setTimeout(()=>{ giftArea.style.display='none'; initBook(); },600);
    }

    // Initialize Turn.js flipbook
    function initBook(){ const fb = document.getElementById('flipbook'); fb.innerHTML='';
      // cover front
      const coverFront = document.createElement('div'); coverFront.className='page cover'; coverFront.innerHTML='<div style="padding:30px;font-size:28px;color:#fff">Cover Depan</div>';
      fb.appendChild(coverFront);
      // inner pages
      PAGES.forEach((t,i)=>{ const pg=document.createElement('div'); pg.className='page inner'; pg.innerHTML=`<div style="padding:28px">${t}</div>`; fb.appendChild(pg); });
      // cover back
      const coverBack = document.createElement('div'); coverBack.className='page cover'; coverBack.innerHTML='<div style="padding:30px;font-size:22px;color:#fff">Cover Belakang</div>';
      fb.appendChild(coverBack);

      // initialize turn.js
      $('#flipbook').turn({width:720,height:520,autoCenter:true,display:'double'});
      document.getElementById('bookArea').style.display='block';
      document.getElementById('nextBtn').style.display='inline-block'; document.getElementById('prevBtn').style.display='inline-block';

      // keep pages manual: user must click next/prev buttons or page area
      document.getElementById('nextBtn').addEventListener('click',()=>{ $('#flipbook').turn('next'); });
      document.getElementById('prevBtn').addEventListener('click',()=>{ $('#flipbook').turn('previous'); });

      // detect last page
      $('#flipbook').bind('turned', function(e, page, view){ const total = $('#flipbook').turn('pages'); if(page >= total-1){ // after small delay close book
          setTimeout(()=>{ $('#flipbook').turn('page',1); // reset or you can close
            document.getElementById('bookArea').style.opacity='0'; setTimeout(()=>{ document.getElementById('bookArea').style.display='none'; document.getElementById('bookArea').style.opacity='1'; proceedAfterBook(); },700); },800);
        }
      });
    }

    function proceedAfterBook(){ show('gifModal'); setTimeout(()=>{ hide('gifModal'); setTimeout(()=>{ show('videoModal'); },400); },2400); // show gif for ~2.4s
      // when video ends, proceed to end modal
      const v = document.getElementById('floatVideo'); v.onended = ()=>{ hide('videoModal'); setTimeout(()=>{ show('endModal'); },300); };
    }

    document.getElementById('endClose').addEventListener('click', ()=>{ hide('endModal'); });

    // music controls
    const audio = document.getElementById('bgMusic'); const playBtn = document.getElementById('playBtn'); const vol = document.getElementById('vol');
    playBtn.addEventListener('click', ()=>{ if(audio.paused){ audio.play(); playBtn.textContent='Pause'; } else { audio.pause(); playBtn.textContent='Play'; } }); vol.addEventListener('input',(e)=>{ audio.volume = e.target.value; }); audio.volume = vol.value;

    // initial focus
    setTimeout(()=>{ document.getElementById('pwdInput').focus(); },300);

  </script></body>
</html>--- END OF FILE ---

